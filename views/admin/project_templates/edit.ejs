
<div class="container-fluid mt-4">
    <h1><%= pageTitle %></h1>
    <hr>

    <%- include('../../partials/_messages') %>

    <div class="card shadow-sm">
        <div class="card-header">
            Edit System Template: <strong><%= template.name %></strong>
        </div>
        <div class="card-body">
            <form action="/admin/project-templates/<%= template.id %>/edit" method="POST">
                <div class="mb-3">
                    <label for="name" class="form-label">Template Name <span class="text-danger">*</span></label>
                    <input type="text" 
                           class="form-control <%= (typeof errors !== 'undefined' && errors.find(e => e.msg.toLowerCase().includes('name'))) ? 'is-invalid' : '' %>" 
                           id="name" name="name" 
                           value="<%= typeof formData !== 'undefined' && typeof formData.name !== 'undefined' ? formData.name : template.name %>" 
                           required>
                    <% if (typeof errors !== 'undefined' && errors.find(e => e.msg.toLowerCase().includes('name'))) { %>
                        <div class="invalid-feedback"><%= errors.find(e => e.msg.toLowerCase().includes('name')).msg %></div>
                    <% } %>
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" 
                              id="description" name="description" 
                              rows="3"><%= typeof formData !== 'undefined' && typeof formData.description !== 'undefined' ? formData.description : (template.description || '') %></textarea>
                </div>
                
                <p class="form-text text-muted">
                    Note: Managing the specific tasks within this system template will be handled in a separate interface (future feature).
                </p>

                <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Update System Template</button>
                <a href="/admin/project-templates" class="btn btn-secondary">Cancel</a>
            </form>
        </div>
    </div>

    <hr class="my-4">
    <div class="card shadow-sm mt-4">
        <div class="card-header">
            Manage Template Tasks (Future Feature)
        </div>
        <div class="card-body">
            <p class="text-muted">An interface to add, edit, and reorder tasks for this system template (<strong><%= template.name %></strong>) will be available here in a future update.</p>
             <a href="/admin/project-templates/<%= template.id %>/tasks" class="btn btn-outline-info">Manage Tasks for this Template</a>
        
        </div>
    </div>
</div>
<%- contentFor('end') %>