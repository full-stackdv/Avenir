<%- include('../partials/_header', { title: `Overview: ${typeof project !== 'undefined' && project ? project.name : 'Project'}`, currentUser: currentUser }) %>

<div class="project-layout">
    <%- include('../partials/_sidebar', { 
        projectId: typeof projectId !== 'undefined' ? projectId : 'unknown', 
        projectName: typeof project !== 'undefined' && project ? project.name : 'Project Details', 
        activeProjectPage: 'overview' 
    }) %>

    <div class="project-content">
        <!-- Content specific to Project Overview starts here -->
        <h2>Project Overview: <span id="project-title"><%= typeof project !== 'undefined' && project ? project.name : 'Loading...' %></span></h2>
                
        <div class="dashboard-grid"> <!-- Reusing dashboard-grid for layout -->
            <div class="card">
                <h3>Overall Progress</h3>
                <p id="project-progress"><%= typeof project !== 'undefined' && project && project.progress_percentage ? project.progress_percentage + '%' : '--%' %></p>
            </div>
            <div class="card">
                <h3>Budget Status</h3>
                <!-- You'd need to calculate or fetch this status -->
                <p id="project-budget-status"><%= typeof project !== 'undefined' && project && project.budget_status ? project.budget_status : 'On Track' %></p>
            </div>
            <div class="card">
                <h3>Upcoming Milestones</h3>
                <ul id="project-upcoming-milestones">
                    <!-- This would ideally be populated from tasks data related to the project -->
                    <li>Loading...</li>
                </ul>
            </div>
            <div class="card">
                <h3>Key Risks/Issues</h3>
                <ul id="project-risks-issues">
                     <!-- This would be populated from a risks/issues table related to the project -->
                    <li><a href="#">Risk: Material Delay (High)</a></li>
                </ul>
            </div>
        </div>
        <!-- More sections like recent activity specific to this project can be added -->
        <!-- Content specific to Project Overview ends here -->
    </div> <!-- End of .project-content -->

</div> <!-- End of .project-layout -->

<%- include('../partials/footer') %>


<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Overview - ConstructFlow</title>
        <link rel="stylesheet" href="/css/style.css">   
</head>
<body>
    <header>
        <h1><a href="dashboard.html">ConstructFlow</a></h1>
        <nav>
            <ul>
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="project_list.html">Projects</a></li>
            </ul>
        </nav>
        <div class="user-menu">
            <span>Welcome, [User Name]!</span>
            <a href="#">Profile</a>
            <a href="/logout">Logout</a>
        </div>
    </header>

    <main>
        <div class="project-layout">-->
            <!-- Paste _project_sidebar.html content here, replace [PROJECT_ID_PLACEHOLDER] -->
            <!-- <aside class="project-sidebar">
                <h3>Project: <span class="project-name-placeholder">Loading...</span></h3>
                <ul>
                    <li><a href="project_overview.html?projectId=123">Overview</a></li>
                    <li><a href="project_wbs.html?projectId=123">WBS & Tasks</a></li>
                    <li><a href="project_gantt.html?projectId=123">Gantt Chart</a></li>
                    <li><a href="project_daily_logs_list.html?projectId=123">Daily Logs</a></li>
                    <li><a href="project_incident_list.html?projectId=123">Incidents</a></li>
                    <li><a href="project_documents.html?projectId=123">Documents</a></li>
                    <li><a href="project_reports.html?projectId=123">Reports</a></li>
                </ul>
                 <hr style="margin: 1rem 0;">
                <a href="project_list.html" class="btn btn-secondary" style="width:100%; text-align:center;">Back to All Projects</a>
            </aside>

            <div class="project-content" id="project-overview-content">
                <h2>Project Overview: <span id="project-title" class="project-name-placeholder">Loading...</span></h2>
                
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>Overall Progress</h3>
                        <p id="project-progress">--%</p>
                    </div>
                    <div class="card">
                        <h3>Budget Status</h3>
                        <p id="project-budget-status">--</p>-->
                        <!-- More details like Spent vs Budgeted could go here -->
                 <!--    </div>
                    <div class="card">
                        <h3>Upcoming Milestones</h3>
                        <ul id="project-upcoming-milestones">
                            <li>Loading...</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3>Key Risks/Issues</h3>
                        <ul>
                            <li><a href="#">Risk: Material Delay (High)</a></li>
                            <li><a href="#">Issue: Subcontractor Availability (Medium)</a></li>
                        </ul>
                    </div>
                </div>-->
                <!-- More sections like recent activity specific to this project can be added -->
            <!--</div>
        </div>
    </main>

    <footer>
        <p>Â© 2024 ConstructFlow. All rights reserved.</p>
    </footer>
    <script src="js/script.js"></script>
</body>
</html>--->